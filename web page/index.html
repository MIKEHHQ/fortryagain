<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="/style/index.css" />
    <script src="../js source/jq source/jquery.min.js"></script>
    <script src="../js source/jq source/jquery.mobile-1.4.5.min.js"></script>
    <title>山大图库</title>
  </head>
  <body>
    <script>
      $(document).ready(function() {
        if (location.href.indexOf("#reloaded") == -1) {
          location.href = location.href + "#reloaded";
          location.reload();
        }
      });

      function search() {
        window.location.href = "search.html";
      }
      function upload() {
        window.location.href = "upload.html";
      }
      function rjy() {
        window.location.href = "软件园.html";
      }
      function zx() {
        window.location.href = "中心.html";
      }
      function qfs() {
        window.location.href = "千佛山.html";
      }
      function xls() {
        window.location.href = "兴隆山.html";
      }
      function hjl() {
        window.location.href = "洪家楼.html";
      }
      function btq() {
        window.location.href = "趵突泉.html";
      }
      function qd() {
        window.location.href = "青岛.html";
      }
      function wh() {
        window.location.href = "威海.html";
      }
      function dt() {
        window.location.href = "冬天.html";
      }
      $(document).ready(function() {
        fetch("http://47.101.139.221:8080/photo_gallery/showAll") // 返回一个Promise对象
          .then(result => {
            return result.json(); // result.json()是一个Promise对象
          })
          .then(data => {
            console.log(data);
            if (data.code == -1) {
              alert("error");
            } else {
              var length = data.data[0].length + data.data[1].length; //后台返回全部数据的长度
              var picnum = 1; //目前所有已显示照片数目
              var zero = 0; //数组0参数
              var one = 0; //数组1参数
              var zerolength = data.data[0].length; //数组0数据长度
              var onelength = data.data[1].length; //数组1数据长度
              var lis = document.getElementsByTagName("li");
              var leng = lis.length; //已显示的li数目
              var box = document.getElementById("box");
              var box1 = document.getElementById("box1");
              var box2 = document.getElementById("box2");

              for (; picnum < length; picnum++) {
                /*先编写box1内方法*/
                if (picnum % 2 == 1) {
                  if (((picnum + 1) / 2) % 3 != 1) {
                    //编写数组0元素
                    if (zero < zerolength) {
                      //编写数组0元素
                      var label_num = data.data[0][zero].labels.length;

                      if (picnum > leng) {
                        var newLi = document.createElement("li");
                        newLi.id = "li" + String(picnum);
                        newLi.style.height = "220px"; //生成外框架
                        newLi.style.visibility = "hidden";

                        var newImg = document.createElement("img");
                        newImg.className = "newImg";
                        newImg.id = "p" + String(picnum);
                        newImg.style.width = "100%";
                        newImg.style.height = "144px";
                        newImg.src = ""; //生成外图

                        var tipcontainer = document.createElement("tips");
                        tipcontainer.className = "tipcontainer";
                        newLi.appendChild(tipcontainer);

                        var new_des = document.createElement("div");
                        new_des.className = "new_des";
                        newLi.appendChild(new_des);
                        new_des.id = "spa" + String(picnum); //生成外描述

                        for (var i = 0; i < label_num; i++) {
                          var newBtn = document.createElement("button");
                          newBtn.id = String(picnum) + "tip" + String(i);
                          newBtn.className = "tip";
                          tipcontainer.appendChild(newBtn);
                        } //生成外标签
                        newLi.appendChild(newImg);
                        box1.appendChild(newLi); //子元素归位

                        document.getElementById("p" + String(picnum)).name =
                          data.data[0][zero].labels;
                        document.getElementById("p" + String(picnum)).praise =
                          data.data[0][zero].praise;
                        document.getElementById("p" + String(picnum)).src =
                          data.data[0][zero].url;
                        document.getElementById("p" + String(picnum)).des =
                          data.data[0][zero].details;
                        document.getElementById("p" + String(picnum)).userid =
                          data.data[0][zero].userId;
                        document.getElementById(
                          "spa" + String(picnum)
                        ).innerText = data.data[0][zero].details;
                        for (var i = 0; i < label_num; i++) {
                          document.getElementById(
                            String(picnum) + "tip" + String(i)
                          ).innerText = data.data[0][zero].labels[i];
                        }
                        newImg.onclick = function() {
                          var newDiv = document.createElement("div");
                          newDiv.className = "mark";
                          box.appendChild(newDiv);
                          var wallpaper = document.createElement("img");
                          wallpaper.className = "wallpaper";
                          wallpaper.src = "./background.jpg";
                          newDiv.appendChild(wallpaper);
                          var newPic = document.createElement("img");
                          newPic.className = "pic";
                          newPic.src = this.src;
                          var newHr = document.createElement("hr");
                          newHr.className = "hr";
                          var newSpan = document.createElement("span");
                          newSpan.className = "span";
                          newSpan.innerHTML = "<";
                          newHr.appendChild(newSpan);
                          box.appendChild(newHr);

                          var anotherDiv = document.createElement("div");
                          anotherDiv.className = "labContainer";
                          box.appendChild(anotherDiv);
                          var innerLab = String(this.name);
                          var arr = innerLab.split(",");
                          var label_num = arr.length;
                          for (var i = 0; i < label_num; i++) {
                            var newLabel = document.createElement("span");
                            newLabel.className = "labs";
                            newLabel.innerHTML = arr[i];
                            anotherDiv.appendChild(newLabel);
                          }

                          //点赞按钮部分
                          var heart = document.createElement("span");
                          heart.className = "heart";
                          anotherDiv.appendChild(heart);
                          var inheart = document.createElement("span");
                          inheart.className = "inheart";
                          anotherDiv.appendChild(inheart);
                          var praise = document.createElement("praise");
                          praise.className = "praise";
                          var praiser = parseInt(this.praise);
                          if (praiser < 1000) praise.innerHTML = this.praise;
                          else praise.innerHTML = "999+";
                          anotherDiv.appendChild(praise);
                          var chest = document.createElement("span");
                          chest.className = "chest";
                          anotherDiv.appendChild(chest);
                          var fake_chest = document.createElement("span");
                          fake_chest.className = "_chest";
                          anotherDiv.appendChild(fake_chest);
                          //点赞功能
                          fake_chest.onclick = function() {
                            var liked = document.createElement("span");
                            liked.className = "liked";
                            anotherDiv.appendChild(liked);
                            var praisers = String(praiser + 1);
                            if (praiser + 1 < 1000) praise.innerHTML = praisers;
                            else praise.innerHTML = "999+";
                            var anotherChest = document.createElement("span");
                            anotherChest.className = "yesPraised";
                            anotherDiv.appendChild(anotherChest);
                            anotherChest.onclick = function() {
                              if (praiser < 1000)
                                praise.innerHTML = String(praiser);
                              else praise.innerHTML = "999+";
                              anotherDiv.removeChild(liked);
                              anotherDiv.removeChild(anotherChest);
                            };
                          };

                          var newDes = document.createElement("des");
                          newDes.className = "des";
                          newDes.innerHTML = this.des;
                          var newUser = document.createElement("user");
                          newUser.innerText = "上传者：" + this.userid;
                          newUser.className = "userid";
                          box.appendChild(newUser);
                          box.appendChild(newDes);
                          box.appendChild(newPic);
                          newLabel.onclick = function() {
                            var area = newLabel.innerText;
                            if (area == "中心") {
                              window.location.href = "中心.html";
                            } else if (area == "软件") {
                              window.location.href = "软件园.html";
                            } else if (area == "洪楼") {
                              window.location.href = "洪家楼.html";
                            } else if (area == "兴隆山") {
                              window.location.href = "兴隆山.html";
                            } else if (area == "趵突泉") {
                              window.location.href = "趵突泉.html";
                            } else if (area == "千佛山") {
                              window.location.href = "千佛山.html";
                            } else if (area == "威海") {
                              window.location.href = "威海.html";
                            } else if (area == "青岛") {
                              window.location.href = "青岛.html";
                            } else if (area == "冬天") {
                              window.location.href = "冬天.html";
                            }
                          };
                          newSpan.onclick = function() {
                            box.removeChild(newPic);
                            box.removeChild(newDiv);
                            box.removeChild(newHr);
                            box.removeChild(newDes);
                            box.removeChild(newUser);
                            box.removeChild(anotherDiv);
                          };
                        }; //点击图片进入fake网页
                        zero++;
                      }
                    } else {
                    }
                  } else {
                    //编写数组1元素
                    if (one < onelength) {
                      var label_num = data.data[1][one].labels.length;

                      if (picnum > leng) {
                        var newLi = document.createElement("li");
                        newLi.id = "li" + String(picnum);
                        newLi.style.height = "330px"; //生成外框架
                        newLi.style.visibility = "hidden";

                        var newImg = document.createElement("img");
                        newImg.className = "newImg";
                        newImg.id = "p" + String(picnum);
                        newImg.style.width = "100%";
                        newImg.style.height = "216px";
                        newImg.src = ""; //生成外图

                        var tipcontainer = document.createElement("tips");
                        tipcontainer.className = "tipcontainer";
                        newLi.appendChild(tipcontainer);

                        var new_des = document.createElement("div");
                        new_des.className = "new_des";
                        newLi.appendChild(new_des);
                        new_des.id = "spa" + String(picnum); //生成外描述

                        for (var i = 0; i < label_num; i++) {
                          var newBtn = document.createElement("button");
                          newBtn.id = String(picnum) + "tip" + String(i);
                          newBtn.className = "tip";
                          tipcontainer.appendChild(newBtn);
                        } //生成外标签
                        newLi.appendChild(newImg);
                        box1.appendChild(newLi); //子元素归位

                        document.getElementById("p" + String(picnum)).name =
                          data.data[1][one].labels;
                        document.getElementById("p" + String(picnum)).praise =
                          data.data[1][one].praise;
                        document.getElementById("p" + String(picnum)).src =
                          data.data[1][one].url;
                        document.getElementById("p" + String(picnum)).url =
                          data.data[1][one].exUrl;
                        document.getElementById("p" + String(picnum)).des =
                          data.data[1][one].details;
                        document.getElementById("p" + String(picnum)).userid =
                          data.data[1][one].userId;
                        document.getElementById(
                          "spa" + String(picnum)
                        ).innerText = data.data[1][one].details;
                        for (var i = 0; i < label_num; i++) {
                          document.getElementById(
                            String(picnum) + "tip" + String(i)
                          ).innerText = data.data[1][one].labels[i];
                        }
                        newImg.onclick = function() {
                          var newDiv = document.createElement("div");
                          newDiv.className = "mark";
                          box.appendChild(newDiv);
                          var wallpaper = document.createElement("img");
                          wallpaper.className = "wallpaper";
                          wallpaper.src = "./background.jpg";
                          newDiv.appendChild(wallpaper);
                          var wallpaper = document.createElement("img");
                          wallpaper.className = "wallpaper";
                          newDiv.appendChild(wallpaper);
                          var newPic = document.createElement("img");
                          newPic.className = "pic";
                          newPic.src = this.url;
                          var newHr = document.createElement("hr");
                          newHr.className = "hr";
                          var newSpan = document.createElement("span");
                          newSpan.className = "span";
                          newSpan.innerHTML = "<";
                          newHr.appendChild(newSpan);
                          box.appendChild(newHr);

                          var anotherDiv = document.createElement("div");
                          anotherDiv.className = "labContainer";
                          box.appendChild(anotherDiv);
                          var innerLab = String(this.name);
                          var arr = innerLab.split(",");
                          var label_num = arr.length;
                          for (var i = 0; i < label_num; i++) {
                            var newLabel = document.createElement("span");
                            newLabel.className = "labs";
                            newLabel.innerHTML = arr[i];
                            anotherDiv.appendChild(newLabel);
                          }
                          //点赞按钮部分
                          var heart = document.createElement("span");
                          heart.className = "heart";
                          anotherDiv.appendChild(heart);
                          var inheart = document.createElement("span");
                          inheart.className = "inheart";
                          anotherDiv.appendChild(inheart);
                          var praise = document.createElement("praise");
                          praise.className = "praise";
                          var praiser = parseInt(this.praise);
                          if (praiser < 1000) praise.innerHTML = this.praise;
                          else praise.innerHTML = "999+";
                          anotherDiv.appendChild(praise);
                          var chest = document.createElement("span");
                          chest.className = "chest";
                          anotherDiv.appendChild(chest);
                          var fake_chest = document.createElement("span");
                          fake_chest.className = "_chest";
                          anotherDiv.appendChild(fake_chest);
                          //点赞功能
                          fake_chest.onclick = function() {
                            var liked = document.createElement("span");
                            liked.className = "liked";
                            anotherDiv.appendChild(liked);
                            var praisers = String(praiser + 1);
                            if (praiser + 1 < 1000) praise.innerHTML = praisers;
                            else praise.innerHTML = "999+";
                            var anotherChest = document.createElement("span");
                            anotherChest.className = "yesPraised";
                            anotherDiv.appendChild(anotherChest);
                            anotherChest.onclick = function() {
                              if (praiser < 1000)
                                praise.innerHTML = String(praiser);
                              else praise.innerHTML = "999+";
                              anotherDiv.removeChild(liked);
                              anotherDiv.removeChild(anotherChest);
                            };
                          };

                          var newDes = document.createElement("des");
                          newDes.className = "des";
                          newDes.innerHTML = this.des;
                          var newUser = document.createElement("user");
                          newUser.innerText = "上传者：" + this.userid;
                          newUser.className = "userid";
                          box.appendChild(newUser);
                          box.appendChild(newDes);
                          box.appendChild(newPic);
                          newLabel.onclick = function() {
                            var area = newLabel.innerText;
                            if (area == "中心") {
                              window.location.href = "中心.html";
                            } else if (area == "软件") {
                              window.location.href = "软件园.html";
                            } else if (area == "洪楼") {
                              window.location.href = "洪家楼.html";
                            } else if (area == "兴隆山") {
                              window.location.href = "兴隆山.html";
                            } else if (area == "趵突泉") {
                              window.location.href = "趵突泉.html";
                            } else if (area == "千佛山") {
                              window.location.href = "千佛山.html";
                            } else if (area == "威海") {
                              window.location.href = "威海.html";
                            } else if (area == "青岛") {
                              window.location.href = "青岛.html";
                            } else if (area == "冬天") {
                              window.location.href = "冬天.html";
                            }
                          };
                          newSpan.onclick = function() {
                            box.removeChild(newPic);
                            box.removeChild(newDiv);
                            box.removeChild(newHr);
                            box.removeChild(newDes);
                            box.removeChild(newUser);
                            box.removeChild(anotherDiv);
                          };
                        }; //点击图片进入fake网页
                        one++;
                      } /**/
                    } else {
                    }
                  }
                } else {
                  //编写box2内方法

                  if ((picnum / 2) % 3 != 0) {
                    //编写数组0元素
                    if (zero < zerolength) {
                      var label_num = data.data[0][zero].labels.length;

                      if (picnum > leng) {
                        var newLi = document.createElement("li");
                        newLi.id = "li" + String(picnum);
                        newLi.style.height = "220px"; //生成外框架
                        newLi.style.visibility = "hidden";

                        var newImg = document.createElement("img");
                        newImg.className = "newImg";
                        newImg.id = "p" + String(picnum);
                        newImg.style.width = "100%";
                        newImg.style.height = "144px";
                        newImg.src = ""; //生成外图

                        var tipcontainer = document.createElement("tips");
                        tipcontainer.className = "tipcontainer";
                        newLi.appendChild(tipcontainer);

                        var new_des = document.createElement("div");
                        new_des.className = "new_des";
                        newLi.appendChild(new_des);
                        new_des.id = "spa" + String(picnum); //生成外描述

                        for (var i = 0; i < label_num; i++) {
                          var newBtn = document.createElement("button");
                          newBtn.id = String(picnum) + "tip" + String(i);
                          newBtn.className = "tip";
                          tipcontainer.appendChild(newBtn);
                        } //生成外标签
                        newLi.appendChild(newImg);
                        box2.appendChild(newLi); //子元素归位

                        document.getElementById("p" + String(picnum)).name =
                          data.data[0][zero].labels;
                        document.getElementById("p" + String(picnum)).praise =
                          data.data[0][zero].praise;
                        document.getElementById("p" + String(picnum)).src =
                          data.data[0][zero].url;
                        document.getElementById("p" + String(picnum)).des =
                          data.data[0][zero].details;
                        document.getElementById("p" + String(picnum)).userid =
                          data.data[0][zero].userId;
                        document.getElementById(
                          "spa" + String(picnum)
                        ).innerText = data.data[0][zero].details;
                        for (var i = 0; i < label_num; i++) {
                          document.getElementById(
                            String(picnum) + "tip" + String(i)
                          ).innerText = data.data[0][zero].labels[i];
                        }
                        newImg.onclick = function() {
                          var newDiv = document.createElement("div");
                          newDiv.className = "mark";
                          box.appendChild(newDiv);
                          var wallpaper = document.createElement("img");
                          wallpaper.className = "wallpaper";
                          wallpaper.src = "./background.jpg";
                          newDiv.appendChild(wallpaper);
                          var wallpaper = document.createElement("img");
                          wallpaper.className = "wallpaper";
                          newDiv.appendChild(wallpaper);
                          var newPic = document.createElement("img");
                          newPic.className = "pic";
                          newPic.src = this.src;
                          var newHr = document.createElement("hr");
                          newHr.className = "hr";
                          var newSpan = document.createElement("span");
                          newSpan.className = "span";
                          newSpan.innerHTML = "<";
                          newHr.appendChild(newSpan);
                          box.appendChild(newHr);

                          var anotherDiv = document.createElement("div");
                          anotherDiv.className = "labContainer";
                          box.appendChild(anotherDiv);
                          var innerLab = String(this.name);
                          var arr = innerLab.split(",");
                          var label_num = arr.length;
                          for (var i = 0; i < label_num; i++) {
                            var newLabel = document.createElement("span");
                            newLabel.className = "labs";
                            newLabel.innerHTML = arr[i];
                            anotherDiv.appendChild(newLabel);
                          }
                          //点赞按钮部分
                          var heart = document.createElement("span");
                          heart.className = "heart";
                          anotherDiv.appendChild(heart);
                          var inheart = document.createElement("span");
                          inheart.className = "inheart";
                          anotherDiv.appendChild(inheart);
                          var praise = document.createElement("praise");
                          praise.className = "praise";
                          var praiser = parseInt(this.praise);
                          if (praiser < 1000) praise.innerHTML = this.praise;
                          else praise.innerHTML = "999+";
                          anotherDiv.appendChild(praise);
                          var chest = document.createElement("span");
                          chest.className = "chest";
                          anotherDiv.appendChild(chest);
                          var fake_chest = document.createElement("span");
                          fake_chest.className = "_chest";
                          anotherDiv.appendChild(fake_chest);
                          //点赞功能
                          fake_chest.onclick = function() {
                            var liked = document.createElement("span");
                            liked.className = "liked";
                            anotherDiv.appendChild(liked);
                            var praisers = String(praiser + 1);
                            if (praiser + 1 < 1000) praise.innerHTML = praisers;
                            else praise.innerHTML = "999+";
                            var anotherChest = document.createElement("span");
                            anotherChest.className = "yesPraised";
                            anotherDiv.appendChild(anotherChest);
                            anotherChest.onclick = function() {
                              if (praiser < 1000)
                                praise.innerHTML = String(praiser);
                              else praise.innerHTML = "999+";
                              anotherDiv.removeChild(liked);
                              anotherDiv.removeChild(anotherChest);
                            };
                          };

                          var newDes = document.createElement("des");
                          newDes.className = "des";
                          newDes.innerHTML = this.des;
                          var newUser = document.createElement("user");
                          newUser.innerText = "上传者：" + this.userid;
                          newUser.className = "userid";
                          box.appendChild(newUser);
                          box.appendChild(newDes);
                          box.appendChild(newPic);
                          newLabel.onclick = function() {
                            var area = newLabel.innerText;
                            if (area == "中心") {
                              window.location.href = "中心.html";
                            } else if (area == "软件") {
                              window.location.href = "软件园.html";
                            } else if (area == "洪楼") {
                              window.location.href = "洪家楼.html";
                            } else if (area == "兴隆山") {
                              window.location.href = "兴隆山.html";
                            } else if (area == "趵突泉") {
                              window.location.href = "趵突泉.html";
                            } else if (area == "千佛山") {
                              window.location.href = "千佛山.html";
                            } else if (area == "威海") {
                              window.location.href = "威海.html";
                            } else if (area == "青岛") {
                              window.location.href = "青岛.html";
                            } else if (area == "冬天") {
                              window.location.href = "冬天.html";
                            }
                          };
                          newSpan.onclick = function() {
                            box.removeChild(newPic);
                            box.removeChild(newDiv);
                            box.removeChild(newHr);
                            box.removeChild(newDes);
                            box.removeChild(newUser);
                            box.removeChild(anotherDiv);
                          };
                        }; //点击图片进入fake网页
                        zero++;
                      }
                    } else {
                    }
                  } else {
                    //编写数组1元素
                    if (one < onelength) {
                      var label_num = data.data[1][one].labels.length;

                      if (picnum > leng) {
                        var newLi = document.createElement("li");
                        newLi.id = "li" + String(picnum);
                        newLi.style.height = "330px"; //生成外框架
                        newLi.style.visibility = "hidden";

                        var newImg = document.createElement("img");
                        newImg.className = "newImg";
                        newImg.id = "p" + String(picnum);
                        newImg.style.width = "100%";
                        newImg.style.height = "216px";
                        newImg.src = ""; //生成外图

                        var tipcontainer = document.createElement("tips");
                        tipcontainer.className = "tipcontainer";
                        newLi.appendChild(tipcontainer);

                        var new_des = document.createElement("div");
                        new_des.className = "new_des";
                        newLi.appendChild(new_des);
                        new_des.id = "spa" + String(picnum); //生成外描述

                        for (var i = 0; i < label_num; i++) {
                          var newBtn = document.createElement("button");
                          newBtn.id = String(picnum) + "tip" + String(i);
                          newBtn.className = "tip";
                          tipcontainer.appendChild(newBtn);
                        } //生成外标签
                        newLi.appendChild(newImg);
                        box2.appendChild(newLi); //子元素归位

                        document.getElementById("p" + String(picnum)).name =
                          data.data[1][one].labels;
                        document.getElementById("p" + String(picnum)).praise =
                          data.data[1][one].praise;
                        document.getElementById("p" + String(picnum)).src =
                          data.data[1][one].url;
                        document.getElementById("p" + String(picnum)).url =
                          data.data[1][one].exUrl;
                        document.getElementById("p" + String(picnum)).des =
                          data.data[1][one].details;
                        document.getElementById("p" + String(picnum)).userid =
                          data.data[1][one].userId;
                        document.getElementById(
                          "spa" + String(picnum)
                        ).innerText = data.data[1][one].details;
                        for (var i = 0; i < label_num; i++) {
                          document.getElementById(
                            String(picnum) + "tip" + String(i)
                          ).innerText = data.data[1][one].labels[i];
                        }
                        newImg.onclick = function() {
                          var newDiv = document.createElement("div");
                          newDiv.className = "mark";
                          box.appendChild(newDiv);
                          var wallpaper = document.createElement("img");
                          wallpaper.className = "wallpaper";
                          wallpaper.src = "./background.jpg";
                          newDiv.appendChild(wallpaper);
                          var wallpaper = document.createElement("img");
                          wallpaper.className = "wallpaper";
                          newDiv.appendChild(wallpaper);
                          var newPic = document.createElement("img");
                          newPic.className = "pic";
                          newPic.src = this.url;
                          var newHr = document.createElement("hr");
                          newHr.className = "hr";
                          var newSpan = document.createElement("span");
                          newSpan.className = "span";
                          newSpan.innerHTML = "<";
                          newHr.appendChild(newSpan);
                          box.appendChild(newHr);

                          var anotherDiv = document.createElement("div");
                          anotherDiv.className = "labContainer";
                          box.appendChild(anotherDiv);
                          var innerLab = String(this.name);
                          var arr = innerLab.split(",");
                          var label_num = arr.length;
                          for (var i = 0; i < label_num; i++) {
                            var newLabel = document.createElement("span");
                            newLabel.className = "labs";
                            newLabel.innerHTML = arr[i];
                            anotherDiv.appendChild(newLabel);
                          }
                          //点赞按钮部分
                          var heart = document.createElement("span");
                          heart.className = "heart";
                          anotherDiv.appendChild(heart);
                          var inheart = document.createElement("span");
                          inheart.className = "inheart";
                          anotherDiv.appendChild(inheart);
                          var praise = document.createElement("praise");
                          praise.className = "praise";
                          var praiser = parseInt(this.praise);
                          if (praiser < 1000) praise.innerHTML = this.praise;
                          else praise.innerHTML = "999+";
                          anotherDiv.appendChild(praise);
                          var chest = document.createElement("span");
                          chest.className = "chest";
                          anotherDiv.appendChild(chest);
                          var fake_chest = document.createElement("span");
                          fake_chest.className = "_chest";
                          anotherDiv.appendChild(fake_chest);
                          //点赞功能
                          fake_chest.onclick = function() {
                            var liked = document.createElement("span");
                            liked.className = "liked";
                            anotherDiv.appendChild(liked);
                            var praisers = String(praiser + 1);
                            if (praiser + 1 < 1000) praise.innerHTML = praisers;
                            else praise.innerHTML = "999+";
                            var anotherChest = document.createElement("span");
                            anotherChest.className = "yesPraised";
                            anotherDiv.appendChild(anotherChest);
                            anotherChest.onclick = function() {
                              if (praiser < 1000)
                                praise.innerHTML = String(praiser);
                              else praise.innerHTML = "999+";
                              anotherDiv.removeChild(liked);
                              anotherDiv.removeChild(anotherChest);
                            };
                          };

                          var newDes = document.createElement("des");
                          newDes.className = "des";
                          newDes.innerHTML = this.des;
                          var newUser = document.createElement("user");
                          newUser.innerText = "上传者：" + this.userid;
                          newUser.className = "userid";
                          box.appendChild(newUser);
                          box.appendChild(newDes);
                          box.appendChild(newPic);
                          newLabel.onclick = function() {
                            var area = newLabel.innerText;
                            if (area == "中心") {
                              window.location.href = "中心.html";
                            } else if (area == "软件") {
                              window.location.href = "软件园.html";
                            } else if (area == "洪楼") {
                              window.location.href = "洪家楼.html";
                            } else if (area == "兴隆山") {
                              window.location.href = "兴隆山.html";
                            } else if (area == "趵突泉") {
                              window.location.href = "趵突泉.html";
                            } else if (area == "千佛山") {
                              window.location.href = "千佛山.html";
                            } else if (area == "威海") {
                              window.location.href = "威海.html";
                            } else if (area == "青岛") {
                              window.location.href = "青岛.html";
                            } else if (area == "冬天") {
                              window.location.href = "冬天.html";
                            }
                          };
                          newSpan.onclick = function() {
                            box.removeChild(newPic);
                            box.removeChild(newDiv);
                            box.removeChild(newHr);
                            box.removeChild(newDes);
                            box.removeChild(newUser);
                            box.removeChild(anotherDiv);
                          };
                        }; //点击图片进入fake网页
                        one++;
                      } /**/
                    } else {
                    }
                  }
                }
              } //
              var distance = 1048;
              var plus = 1694;
              var first = 13;
              var end = first + 12;
              for (var i = 1; i <= 12; i++) {
                document.getElementById("li" + String(i)).style.visibility =
                  "visible";
              }
              $(window).scroll(function() {
                //开始监听滚动条
                var top = $(document).scrollTop(); //滚动条距离顶部的高度
                if (top >= distance) {
                  distance += plus;
                  for (var i = first; i <= end; i++) {
                    document.getElementById("li" + String(i)).style.visibility =
                      "visible";
                  } // ...业务代码
                  end += 12;
                }
              });
            }
          });
      });

      $(document).ready(function() {
        $("html").swiperight(function() {
          $(".sidenav").width(200);
        });
      });

      $(document).ready(function() {
        $("html").swipeleft(function() {
          $(".sidenav").width(0);
        });
      });
    </script>
    <img id="wallpaper" src="./background.jpg" />
    <div id="containers">
      <ul id="box1" class="container"></ul>
      <ul id="box2" class="container"></ul>
    </div>
    <ul id="box">
      <img src="search.png" id="search" onclick="search()" />
      <img src="upload.png" id="upload" onclick="upload()" />
    </ul>

    <ul id="box"></ul>
    <div id="mySidenav" class="sidenav">
      <a href="index.html" onclick="index()">首页</a>
      <a href="软件园.html" onclick="rjy()">软件园校区</a>
      <a href="中心.html" onclick="zx()">中心校区</a>
      <a href="千佛山.html" onclick="qfs()">千佛山校区</a>
      <a href="洪家楼.html" onclick="hjl()">洪家楼校区</a>
      <a href="趵突泉.html" onclick="btq()">趵突泉校区</a>
      <a href="兴隆山.html" onclick="xls()">兴隆山校区</a>
      <a href="青岛.html" onclick="qd()">青岛校区</a>
      <a href="威海.html" onclick="wh()">威海校区</a>
      <a href="冬天.html" onclick="dt()">冬天</a>
    </div>
  </body>
</html>
